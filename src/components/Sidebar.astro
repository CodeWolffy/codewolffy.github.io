9---
import { Button } from "@/components/ui/button";

interface Props {
  className?: string;
  tags: { name: string; count: number; id: string }[];
  categories: { name: string; count: number; id: string }[];
}

const { className, tags, categories } = Astro.props;
---

<aside class:list={["w-full space-y-8", className]}>
  <!-- Profile Widget -->
  <div class="rounded-xl bg-card border border-border/50 p-6 shadow-sm">
    <div class="flex flex-col items-center text-center">
      <div class="relative w-24 h-24 mb-4">
        <div class="absolute inset-0 bg-primary/20 rounded-full blur-xl animate-pulse"></div>
        <img 
          src="https://github.com/CodeWolffy.png" 
          alt="Wolf" 
          class="relative w-full h-full rounded-full border-2 border-background object-cover shadow-md"
        />
        <div class="absolute bottom-1 right-1 w-4 h-4 bg-green-500 border-2 border-background rounded-full"></div>
      </div>
      
      <h3 class="text-xl font-bold text-foreground">狼码纪</h3>
      <p class="text-xs text-muted-foreground mt-1 mb-4">全栈开发者 / 设计爱好者</p>
      
      <p class="text-sm text-foreground/80 leading-relaxed mb-6">
        探索技术、编程与设计的边界。分享 web 开发、UI 设计与生产力工具的心得。
      </p>
      
      <div class="flex gap-2 w-full">
         <a href="https://github.com/CodeWolffy" target="_blank" class="flex-1">
            <Button variant="outline" size="sm" className="w-full gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36.5-8 4-2.64-3.5-5.36-2.5-8-4 0 0-5 .5-5 1.5 0 2-.2 4 .5 7 2 3.5 1.5 5.5.08 1.25-.27 2.48-1 3.5.28 1.15.28 2.35 0 3.5 0 0 1 0 3 1.5 2.64.5 5.36-.5 8-4 4.8 0 0 0-1 3.5v4"/></svg>
                Github
            </Button>
         </a>
         <a href="/about" class="flex-1">
            <Button size="sm" className="w-full">关于我</Button>
         </a>
      </div>
    </div>
  </div>

  <!-- Categories Widget -->
  <div class="rounded-xl bg-card border border-border/50 p-6 shadow-sm">
    <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
        <span class="w-1 h-4 bg-primary rounded-full"></span>
        分类
    </h3>
    <ul class="space-y-2">
      {categories.map((category) => (
        <li>
          <a 
            href={`/categories/${category.id}`}
            class="group flex items-center justify-between py-2 px-3 rounded-lg hover:bg-muted/50 transition-colors"
          >
            <span class="text-sm font-medium group-hover:text-primary transition-colors">{category.name}</span>
            <span class="text-xs bg-muted text-muted-foreground px-2 py-0.5 rounded-full group-hover:bg-background group-hover:text-primary transition-colors">{category.count}</span>
          </a>
        </li>
      ))}
    </ul>
    <a href="/categories" class="block mt-4 text-xs text-center text-muted-foreground hover:text-primary transition-colors">
        查看全部分类 →
    </a>
  </div>

  <!-- Tags Widget -->
  <div class="rounded-xl bg-card border border-border/50 p-6 shadow-sm">
    <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
        <span class="w-1 h-4 bg-secondary-foreground/30 rounded-full"></span>
        热门标签
    </h3>
    <div class="flex flex-wrap gap-2">
      {tags.map((tag) => (
        <a 
          href={`/tags/${tag.id}`}
          class="text-xs px-2.5 py-1 rounded-md bg-secondary text-secondary-foreground hover:bg-primary hover:text-primary-foreground transition-all duration-300"
        >
          {tag.name}
        </a>
      ))}
    </div>
  </div>
</aside>
