---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("blog");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
const pageTitle = "标签索引";
---

<BaseLayout title={pageTitle}>
    <div class="container mx-auto max-w-4xl py-6 lg:py-10 px-4 md:px-6">
        <div class="flex flex-col items-start gap-4 md:flex-row md:justify-between md:gap-8">
            <div class="flex-1 space-y-4">
                <h1 class="inline-block font-bold text-4xl tracking-tight lg:text-5xl">
                    标签
                </h1>
            </div>
        </div>
        <hr class="my-8" />
        <div class="flex flex-wrap gap-2">
            {tags.map((tag) => (
                <a
                    href={`/tags/${tag}`}
                    class="border rounded-lg px-4 py-2 text-lg hover:bg-secondary transition-colors"
                >
                    {tag}
                </a>
            ))}
            {tags.length === 0 && (
                 <p class="text-muted-foreground">暂无标签。</p>
            )}
        </div>
    </div>
</BaseLayout>
